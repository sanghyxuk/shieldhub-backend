server:
  port: ${PORT:8080}

spring:
  application:
    name: shieldhub-backend

  servlet:
    multipart:
      max-file-size: 500MB      # 파일 하나당 최대 크기
      max-request-size: 500MB   # 요청 전체 최대 크기
      enabled: true

  mail:
    host: smtp-relay.brevo.com
    port: 2525
    username: 9c3595001@smtp-brevo.com
    password: ${MAIL_PASSWORD}
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true
            required: true
          connectiontimeout: 10000
          timeout: 10000
          writetimeout: 10000

  # [DB 설정]
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: ${DB_URL:jdbc:mysql://localhost:3306/shieldhub_db}
    username: ${DB_USERNAME:shieldhub_user}
    password: ${DB_PASSWORD:1234}

  # [JPA 설정]
  jpa:
    hibernate:
      ddl-auto: update
      naming:
        physical-strategy: org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl
    show-sql: true
    properties:
      hibernate:
        dialect: org.hibernate.dialect.MySQLDialect
        format_sql: true

  # [CORS 설정]
  web:
    cors:
      allowed-origins: "http://localhost:3000, https://frontend-chi-lake-23.vercel.app"
      allowed-methods: GET,POST,PUT,DELETE,PATCH,OPTIONS
      allowed-headers: "*"
      allow-credentials: true
      max-age: 3600

logging:
  level:
    com.shieldhub.backend: DEBUG
    org.springframework.security: DEBUG

# [커스텀 설정]
app:
  mail:
    from: pyosang0919@gmail.com
    from-name: ShieldHub Security

  jwt:
    secret: ${JWT_SECRET:your-256-bit-secret-key-change-this-in-production-very-important}
    expiration: 86400000

  encryption:
    master-key: ${ENCRYPTION_MASTER_KEY:your-256-bit-secret-key-change-this-in-production-very-important}

  file:
    upload-dir: ./data/files/encrypted/uploads

  flask:
    server-url: ${FLASK_API_URL:http://127.0.0.1:5001}